# Ordenação

## Bubble sort

```cpp
template <typename ForwardIterator>
void bubble_sort(ForwardIterator begin, ForwardIterator end)
{
  for (; begin != end; --end)
    for (auto left = begin, right = std::next(left);
         right != end;
         left = right++)
      if (*left > *right)
        std::iter_swap(left, right);
}
```

## Shaker sort

```cpp
template <typename BidirIterator>
void shaker_sort(BidirIterator begin, BidirIterator end)
{
  while (true)
  {
    for (auto left = begin, right = std::next(left);
         right != end;
         left = right++)
      if (*left > *right)
        std::iter_swap(left, right);
    if (begin == --end)
      return;

    for (auto right = std::prev(end), left = std::prev(left);
         right != begin;
         right = left--)
      if (*left > *right)
        std::iter_swap(left, right);
    if (++begin == end)
      return;
  }
}
```

## Selection sort

```cpp
template <typename ForwardIterator>
void selection_sort(ForwardIterator begin, ForwardIterator end)
{
  for (auto it = begin; it != end; ++it)
    std::iter_swap(it, std::min_element(it, end));
}
```

## Insertion sort

```cpp
template <typename BidirIterator>
void insertion_sort(BidirIterator begin, BidirIterator end)
{
  for (auto it = std::next(begin); it != end; ++it)
    for (auto right = it, left = std::prev(right);
         right != begin && *left > *right;
         right = left--)
      std::iter_swap(left, right);
}
```

## Shell sort

```cpp
template <typename T>
auto knuth_seq_last(T length)
{
  T h = 1;
  while (h < length)
    h = 3 * h + 1;
  return h / 3;
}

template <typename RandomAccessIterator>
void shell_sort(RandomAccessIterator begin, RandomAccessIterator end)
{
  const auto length = std::distance(begin, end);
  for (auto h = knuth_seq_last(length); h > 0; h = h / 3)
    for (auto it = std::next(begin, h); it != end; ++it)
      for (auto right = it, left = std::prev(right, h);
           right != begin && *left > *right;
           right = std::exchange(left, std::prev(left, h)))
        std::iter_swap(left, right);
}
```

## Quick sort

```cpp
template <typename BidirIterator>
void quicksort(BidirIterator begin, BidirIterator end)
{
  if (begin == end)
    return;

  auto left = begin;
  auto right = std::prev(end)

  const auto pivot_value = *left;

  while (true)
  {
    while (left != right && *right >= pivot_value)
      --right;
    if (left == right)
      break;
    std::iter_swap(left++, right);

    while (left != right && *left <= pivot_value)
      ++left;
    if (left == right)
      break;
    std::iter_swap(left, right--);
  }

  quicksort(begin, left);
  quicksort(left + 1, end);
}
```
